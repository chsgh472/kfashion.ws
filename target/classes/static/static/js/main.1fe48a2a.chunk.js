(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[0],{108:function(e,t,a){e.exports=a(137)},113:function(e,t,a){},137:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(10),o=a.n(r),c=(a(113),a(26)),s=a(31),l=a(60),p=a(35),m=a(33),u=a(27),h=a(12),g=a(38),d=a(5),b=a(188),f=a(44),O=a.n(f),v=a(43),w=a(170),j=a(173),E=a(175),k=a(176),x=a(69),S=a(93),y=a.n(S),N=a(94),T=a.n(N),I=Object(w.a)((function(e){return{appBar:Object(v.a)({},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(e.drawerWidth,"px)"),marginLeft:e.drawerWidth}),menuButton:Object(v.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),title:{marginLeft:(e.sideMenuWidth-120)/2,paddingLeft:e.spacing(3),flexGrow:1},link:{textDecoration:"none",color:"inherit"}}}));function L(e){var t=I(),a=e.mobileOpen,n=e.setMobileOpen,r=e.isLoggedIn,o=e.doLogout;return i.a.createElement(j.a,{position:"fixed",className:t.appBar},i.a.createElement(E.a,null,i.a.createElement(k.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:function(){n(!a)},className:t.menuButton},i.a.createElement(y.a,null)),i.a.createElement(x.a,{variant:"h6",noWrap:!0,className:t.title},i.a.createElement(u.b,{to:"/",className:t.link},"Project Base")),r?i.a.createElement(k.a,{color:"inherit",onClick:o},i.a.createElement(T.a,null)):""))}var C=a(95),A=a(177),P=a(178),U=a(179),W=a(180),_=a(181),B=a(182),M=a(192),D=a(193),K=a(13),z=a(96),R=a.n(z),H=Object(w.a)((function(e){return{drawer:Object(v.a)({},e.breakpoints.up("sm"),{width:e.drawerWidth,flexShrink:0}),appBar:Object(C.a)({width:e.drawerWidth,paddingLeft:0,paddingRight:0},e.mixins.toolbar),drawerPaper:{width:e.drawerWidth,height:"100%",border:"none"},toolbar:{width:e.drawerWidth,backgroundColor:e.palette.primary.main,paddingLeft:0,paddingRight:0,boxShadow:"0px 2px 4px -1px rgba(0,0,0,0.2),0px 4px 5px 0px rgba(0,0,0,0.14),0px 1px 10px 0px rgba(0,0,0,0.12)"},logo:{width:129,height:22,marginLeft:(e.drawerWidth-129)/2,marginRight:(e.drawerWidth-129)/2},menu:{borderRight:"1px solid rgba(0,0,0,0.12)",height:"100%"},link:{textDecoration:"none",color:"inherit"}}}));function q(e){var t=H(),a=Object(K.a)(),n=e.mobileOpen,r=e.setMobileOpen,o=e.isLoggedIn,c=i.a.createElement("div",{className:t.menu},i.a.createElement(A.a,null,i.a.createElement(P.a,{inset:!0},"\uad00\ub9ac"),i.a.createElement(u.b,{to:"/home",className:t.link},i.a.createElement(U.a,{button:!0},i.a.createElement(W.a,null,i.a.createElement(R.a,null)),i.a.createElement(_.a,{primary:"\ud648"})))),i.a.createElement(B.a,null));return i.a.createElement("nav",{className:t.drawer,"aria-label":"mailbox folders"},i.a.createElement(M.a,{smUp:!0,implementation:"css"},i.a.createElement(D.a,{variant:"temporary",anchor:"rtl"===a.direction?"right":"left",open:n,onClose:function(){r(!n)},classes:{paper:t.drawerPaper},ModalProps:{keepMounted:!0}},i.a.createElement(E.a,{className:t.toolbar},i.a.createElement(u.b,{to:"/",className:t.link},i.a.createElement("img",{src:"/images/aether_white.png",alt:"AetherIT",className:t.logo}))),o?c:"")),i.a.createElement(M.a,{xsDown:!0,implementation:"css"},i.a.createElement(D.a,{variant:"permanent",classes:{paper:t.drawerPaper},open:!0},i.a.createElement(E.a,{className:t.toolbar},i.a.createElement(u.b,{to:"/",className:t.link},i.a.createElement("img",{src:"/images/aether_white.png",alt:"AetherIT",className:t.logo}))),o?c:"")))}var F,G,J,X,$,Q,V,Y,Z,ee,te=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.location.pathname!==e.location.pathname&&window.scrollTo(0,0)}},{key:"render",value:function(){return this.props.children}}]),a}(i.a.Component),ae=a(49),ne=a(185),ie=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.enqueueSnackbar("Welcome",{variant:"info"})}},{key:"render",value:function(){var e=this.props.classes;return i.a.createElement(ne.a,{component:"main",className:e.mainContainer},i.a.createElement("div",{className:e.appBarSpacer}),i.a.createElement("div",{className:e.mainContent},i.a.createElement(E.a,{className:e.toolbar},i.a.createElement(x.a,{variant:"h4",component:"h2"},"Home"))))}}]),a}(i.a.Component),re=Object(ae.b)(Object(h.f)(Object(d.a)((function(e){return{mainContainer:{flexGrow:1,padding:e.spacing(3)},appBarSpacer:e.mixins.toolbar,mainContent:{marginTop:e.spacing(2),display:"flex",flexDirection:"column",alignItems:"center"},toolbar:{width:"100%"}}}))(ie))),oe=a(194),ce=a(190),se=a(186),le=a(187),pe=a(97),me=a.n(pe),ue=a(45),he=a.n(ue),ge=a(39),de=a(40),be=(a(136),a(7)),fe="Authenticated",Oe="NotAuthenticated",ve="Pending",we="Failed",je={id:"",password:""},Ee={id:"",name:"",type:"",createdDatetime:"",updatedDatetime:""},ke=(F=function e(){Object(c.a)(this,e),Object(ge.a)(this,"login",G,this),Object(ge.a)(this,"loginState",J,this),Object(ge.a)(this,"loginToken",X,this),Object(ge.a)(this,"loginUser",$,this),Object(ge.a)(this,"changeLoginId",Q,this),Object(ge.a)(this,"changeLoginPassword",V,this),Object(ge.a)(this,"invalidateLogin",Y,this),this.doLogin=Object(be.i)(he.a.mark((function e(){var t,a,n,i;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loginState=ve,e.prev=1,t=this.login,e.next=5,O.a.post("/api/v1/authentications/signin",t);case 5:a=e.sent,n=a.data.token,i=a.data.user,localStorage.setItem("_BASKITOP_AUTHENTICATION_TOKEN_",n),console.log("doLogin"),console.log(this),this.loginState=fe,this.loginToken=n,this.loginUser=i,e.next=21;break;case 16:e.prev=16,e.t0=e.catch(1),this.loginState=we,this.loginToken="",this.loginUser=Object.assign({},Ee);case 21:case"end":return e.stop()}}),e,this,[[1,16]])}))),this.checkLogin=Object(be.i)(he.a.mark((function e(){var t,a,n;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("_BASKITOP_AUTHENTICATION_TOKEN_")){e.next=18;break}return e.prev=2,e.next=5,O.a.get("/api/v1/authentications/signcheck");case 5:t=e.sent,a=t.data.token,n=t.data.user,this.loginState=fe,this.loginToken=a,this.loginUser=n,e.next=18;break;case 13:e.prev=13,e.t0=e.catch(2),this.loginState=Oe,this.loginToken="",this.loginUser=Object.assign({},Ee);case 18:case"end":return e.stop()}}),e,this,[[2,13]])}))),this.doLogout=Object(be.i)(he.a.mark((function e(){return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.removeItem("_BASKITOP_AUTHENTICATION_TOKEN_"),e.prev=1,e.next=4,O.a.post("/api/v1/authentications/signout");case 4:console.log(this),this.login=Object.assign({},je),this.loginState=Oe,this.loginToken="",this.loginUser=Object.assign({},Ee),e.next=17;break;case 11:e.prev=11,e.t0=e.catch(1),this.login=Object.assign({},je),this.loginState=Oe,this.loginToken="",this.loginUser=Object.assign({},Ee);case 17:case"end":return e.stop()}}),e,this,[[1,11]])})))},G=Object(de.a)(F.prototype,"login",[be.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Object.assign({},je)}}),J=Object(de.a)(F.prototype,"loginState",[be.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Oe}}),X=Object(de.a)(F.prototype,"loginToken",[be.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),$=Object(de.a)(F.prototype,"loginUser",[be.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Object.assign({},Ee)}}),Q=Object(de.a)(F.prototype,"changeLoginId",[be.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.login.id=t}}}),V=Object(de.a)(F.prototype,"changeLoginPassword",[be.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.login.password=t}}}),Y=Object(de.a)(F.prototype,"invalidateLogin",[be.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.login=Object.assign({},je),e.loginState=Oe,e.loginToken="",e.loginUser=Object.assign({},Ee)}}}),F),xe=Object(g.b)("authStore")(Z=Object(g.c)(Z=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).handleChangeId=function(t){e.props.authStore.changeLoginId(t.target.value)},e.handleChangePassword=function(t){e.props.authStore.changeLoginPassword(t.target.value)},e.handleKeyUpPassword=function(t){13===t.keyCode&&e.props.authStore.doLogin()},e.handleSubmitForm=function(t){e.props.authStore.doLogin()},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.classes,t=this.props.authStore,a=t.loginState,n=t.login;return i.a.createElement(ne.a,{component:"main",maxWidth:"xs"},i.a.createElement("div",{className:e.appBarSpacer}),i.a.createElement("div",{className:e.paper},i.a.createElement(oe.a,{className:e.lockOutAvatar},i.a.createElement(me.a,null)),i.a.createElement(x.a,{component:"h1",variant:"h5"},a===we?"Sign in failed.":"Please sign in."),i.a.createElement("div",{className:e.form},i.a.createElement(ce.a,{id:"id",name:"id",label:"ID",variant:"outlined",margin:"normal",value:n.id,onChange:this.handleChangeId,required:!0,fullWidth:!0}),i.a.createElement(ce.a,{id:"password",name:"password",label:"Password",type:"password",variant:"outlined",margin:"normal",value:n.password,onChange:this.handleChangePassword,onKeyUp:this.handleKeyUpPassword,required:!0,fullWidth:!0}),i.a.createElement(se.a,{type:"submit",className:e.submit,color:"primary",variant:"contained",disabled:a===ve,onClick:this.handleSubmitForm,fullWidth:!0},a===ve?i.a.createElement(le.a,{size:22}):"Sign In"))))}}]),a}(i.a.Component))||Z)||Z,Se=Object(ae.b)(Object(h.f)(Object(d.a)((function(e){return{appBarSpacer:e.mixins.toolbar,paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},lockOpenAvatar:{margin:e.spacing(1),backgroundColor:e.palette.primary.main},lockOutAvatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}))(xe))),ye=Object(g.b)("authStore")(ee=Object(g.c)(ee=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={mobileOpen:!1},n.setMobileOpen=n.setMobileOpen.bind(Object(l.a)(n)),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;console.log("========== RGate App componentDidMount =========="),O.a.interceptors.request.use((function(e){var t=localStorage.getItem("_BASKITOP_AUTHENTICATION_TOKEN_");return t&&(e.headers["X-Auth-Token"]=t),e}),(function(e){return Promise.reject(e)})),O.a.interceptors.response.use((function(t){return 403===t.status&&e.props.authStore.invalidateLogin(),t}),(function(t){return t.response&&403===t.response.status&&e.props.authStore.invalidateLogin(),Promise.reject(t)})),this.props.authStore.checkLogin()}},{key:"setMobileOpen",value:function(e){this.setState({mobileOpen:e})}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.props.authStore.loginState;return i.a.createElement("div",{className:t.root},i.a.createElement(u.a,null,i.a.createElement(b.a,null),i.a.createElement(h.a,{path:"/",component:te},i.a.createElement(L,{mobileOpen:this.state.mobileOpen,setMobileOpen:this.setMobileOpen,isLoggedIn:a===fe,doLogout:function(){return e.props.authStore.doLogout()}}),i.a.createElement(q,{mobileOpen:this.state.mobileOpen,setMobileOpen:this.setMobileOpen,isLoggedIn:a===fe}),a===fe?i.a.createElement(i.a.Fragment,null,i.a.createElement(h.c,null,i.a.createElement(h.a,{exact:!0,path:"/",component:re}),i.a.createElement(h.a,{exact:!0,path:"/home",component:re}))):i.a.createElement(h.a,{path:"/",component:Se}))))}}]),a}(i.a.Component))||ee)||ee,Ne=Object(d.a)((function(){return{root:{display:"flex"}}}))(ye);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Te=a(189),Ie={authStore:new ke},Le=a(98);Object(be.g)({enforceActions:"always"});var Ce=Object(Le.a)({drawerWidth:240});o.a.render(i.a.createElement(g.a,Ie,i.a.createElement(Te.a,{theme:Ce},i.a.createElement(ae.a,{maxSnack:3,anchorOrigin:{vertical:"bottom",horizontal:"right"}},i.a.createElement(Ne,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[108,1,2]]]);
//# sourceMappingURL=main.1fe48a2a.chunk.js.map