{"ast":null,"code":"import _initializerDefineProperty from \"/Users/jangseong-yeol/kfashion.ws/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/initializerDefineProperty\";\nimport _applyDecoratedDescriptor from \"/Users/jangseong-yeol/kfashion.ws/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/applyDecoratedDescriptor\";\nimport _initializerWarningHelper from \"/Users/jangseong-yeol/kfashion.ws/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/initializerWarningHelper\";\n\nvar _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _temp;\n\nimport { action, flow, observable } from \"mobx\";\nimport axios from \"axios\";\nexport const State = {\n  Authenticated: 'Authenticated',\n  NotAuthenticated: 'NotAuthenticated',\n  Pending: 'Pending',\n  Failed: 'Failed'\n};\nexport const LocalStorageTokenKey = '_BASKITOP_AUTHENTICATION_TOKEN_';\nexport const LocalStorageSaveIdKey = \"Kfashion_AUTHENTICATION_SAVE_ID_\";\nexport const LocalStorageSaveEmailKey = \"_Kfashion_AUTHENTICATION_EMAIL_\";\nexport const LocalStorageSaveNameKey = \"_Kfashion_AUTHENTICATION_NAME_\";\nexport const LocalStorageSaveIsAdminKey = \"_Kfashion_AUTHENTICATION_ISADMIN_\";\nexport const LocalStorageSaveIsApprovedKey = \"_Kfashion_AUTHENTICATION_ISAPPROVED_\";\nexport const LocalStorageSaveGroupAdminKey = \"_Kfashion_AUTHENTICATION_GROUPADMIN_\";\nexport const LocalStorageSaveGroupNoKey = \"_Kfashion_AUTHENTICATION_GROUPNO_\";\nexport const LocalStorageSaveAuthorityNoKey = \"_Kfashion_AUTHENTICATION_AUTHORITYNO_\";\nconst EmptyLogin = {\n  id: '',\n  password: ''\n};\nconst EmptyUser = {\n  id: '',\n  name: '',\n  email: '',\n  phone: '',\n  groupNo: '',\n  isAdmin: '',\n  isApproved: '',\n  authorityNo: '',\n  groupAdmin: '',\n  createdDatetime: '',\n  updatedDatetime: ''\n};\nlet AuthStore = (_class = (_temp = class AuthStore {\n  constructor() {\n    _initializerDefineProperty(this, \"login\", _descriptor, this);\n\n    _initializerDefineProperty(this, \"loginState\", _descriptor2, this);\n\n    _initializerDefineProperty(this, \"loginToken\", _descriptor3, this);\n\n    _initializerDefineProperty(this, \"saveId\", _descriptor4, this);\n\n    _initializerDefineProperty(this, \"loginUser\", _descriptor5, this);\n\n    _initializerDefineProperty(this, \"checkLoginId\", _descriptor6, this);\n\n    _initializerDefineProperty(this, \"changeLoginId\", _descriptor7, this);\n\n    _initializerDefineProperty(this, \"changeLoginPassword\", _descriptor8, this);\n\n    _initializerDefineProperty(this, \"logOut\", _descriptor9, this);\n\n    _initializerDefineProperty(this, \"invalidateLogin\", _descriptor10, this);\n\n    this.doLogin = flow(function* doLogin() {\n      this.loginState = State.Pending;\n      localStorage.setItem(LocalStorageSaveIdKey, this.login.id);\n\n      try {\n        const param = this.login;\n        const response = yield axios.post('/api/v1/kfashion/authentications/signin', param);\n        const token = response.data.token;\n        const user = response.data.user;\n        localStorage.setItem(LocalStorageTokenKey, token);\n        console.log('doLogin');\n        this.loginState = State.Authenticated;\n        this.loginToken = token;\n        this.loginUser = user;\n        console.log(this.loginUser);\n      } catch (e) {\n        this.loginState = State.Failed;\n        this.loginToken = '';\n        this.loginUser = Object.assign({}, EmptyUser);\n      }\n    });\n    this.checkLogin = flow(function* checkLogin() {\n      this.checkLoginId();\n      const token = localStorage.getItem(LocalStorageTokenKey);\n\n      if (token) {\n        try {\n          const response = yield axios.get('/api/v1/kfashion/authentications/signcheck');\n          const token = response.data.token;\n          const user = response.data.user;\n          console.log('user:', user);\n          this.loginState = State.Authenticated;\n          this.loginToken = token;\n          this.loginUser = user;\n          console.log(this.loginUser);\n        } catch (e) {\n          this.loginState = State.NotAuthenticated;\n          this.loginToken = '';\n          this.loginUser = Object.assign({}, EmptyUser);\n        }\n      }\n    });\n    this.doLogout = flow(function* doLogout() {\n      localStorage.removeItem(LocalStorageTokenKey);\n\n      try {\n        yield axios.post('/api/v1/kfashion/authentications/signout');\n        console.log(this);\n        this.login = Object.assign({}, EmptyLogin);\n        this.loginState = State.NotAuthenticated;\n        this.loginToken = '';\n        this.loginUser = Object.assign({}, EmptyUser);\n      } catch (e) {\n        this.login = Object.assign({}, EmptyLogin);\n        this.loginState = State.NotAuthenticated;\n        this.loginToken = '';\n        this.loginUser = Object.assign({}, EmptyUser);\n      }\n    });\n  }\n\n}, _temp), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"login\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return Object.assign({}, EmptyLogin);\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"loginState\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return State.NotAuthenticated;\n  }\n}), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"loginToken\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return '';\n  }\n}), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"saveId\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return false;\n  }\n}), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"loginUser\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return Object.assign({}, EmptyUser);\n  }\n}), _descriptor6 = _applyDecoratedDescriptor(_class.prototype, \"checkLoginId\", [action], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return () => {\n      const savedId = localStorage.getItem(LocalStorageSaveIdKey);\n      const saveEmail = localStorage.getItem(LocalStorageSaveEmailKey);\n      const saveName = localStorage.getItem(LocalStorageSaveNameKey);\n      const saveIsAdmin = localStorage.getItem(LocalStorageSaveIsAdminKey);\n      const saveIsApproved = localStorage.getItem(LocalStorageSaveIsApprovedKey);\n      const saveGroupAdmin = localStorage.getItem(LocalStorageSaveGroupAdminKey);\n      const saveSaveGroupNo = localStorage.getItem(LocalStorageSaveGroupNoKey);\n      const saveSaveAuthorityNo = localStorage.getItem(LocalStorageSaveAuthorityNoKey);\n    };\n  }\n}), _descriptor7 = _applyDecoratedDescriptor(_class.prototype, \"changeLoginId\", [action], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return id => {\n      this.login.id = id;\n    };\n  }\n}), _descriptor8 = _applyDecoratedDescriptor(_class.prototype, \"changeLoginPassword\", [action], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return password => {\n      this.login.password = password;\n    };\n  }\n}), _descriptor9 = _applyDecoratedDescriptor(_class.prototype, \"logOut\", [action], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return pathname => {\n      // if(pathname.startsWith(\"/broadcast/\")) {\n      if (window.confirm(\"로그아웃 하시겠습니까?\")) {\n        this.doLogout();\n      } // } else {\n      //     this.doLogout();\n      // }\n\n    };\n  }\n}), _descriptor10 = _applyDecoratedDescriptor(_class.prototype, \"invalidateLogin\", [action], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return () => {\n      this.login = Object.assign({}, EmptyLogin);\n      this.loginState = State.NotAuthenticated;\n      this.loginToken = '';\n      this.loginUser = Object.assign({}, EmptyUser);\n    };\n  }\n})), _class);\nexport { AuthStore as default };","map":{"version":3,"sources":["/Users/jangseong-yeol/kfashion.ws/web/src/stores/AuthStore.js"],"names":["action","flow","observable","axios","State","Authenticated","NotAuthenticated","Pending","Failed","LocalStorageTokenKey","LocalStorageSaveIdKey","LocalStorageSaveEmailKey","LocalStorageSaveNameKey","LocalStorageSaveIsAdminKey","LocalStorageSaveIsApprovedKey","LocalStorageSaveGroupAdminKey","LocalStorageSaveGroupNoKey","LocalStorageSaveAuthorityNoKey","EmptyLogin","id","password","EmptyUser","name","email","phone","groupNo","isAdmin","isApproved","authorityNo","groupAdmin","createdDatetime","updatedDatetime","AuthStore","doLogin","loginState","localStorage","setItem","login","param","response","post","token","data","user","console","log","loginToken","loginUser","e","Object","assign","checkLogin","checkLoginId","getItem","get","doLogout","removeItem","savedId","saveEmail","saveName","saveIsAdmin","saveIsApproved","saveGroupAdmin","saveSaveGroupNo","saveSaveAuthorityNo","pathname","window","confirm"],"mappings":";;;;;;AAAA,SAAQA,MAAR,EAAgBC,IAAhB,EAAsBC,UAAtB,QAAuC,MAAvC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,KAAK,GAAG;AACjBC,EAAAA,aAAa,EAAE,eADE;AAEjBC,EAAAA,gBAAgB,EAAE,kBAFD;AAGjBC,EAAAA,OAAO,EAAE,SAHQ;AAIjBC,EAAAA,MAAM,EAAE;AAJS,CAAd;AAOP,OAAO,MAAMC,oBAAoB,GAAG,iCAA7B;AACP,OAAO,MAAMC,qBAAqB,GAAG,kCAA9B;AACP,OAAO,MAAMC,wBAAwB,GAAG,iCAAjC;AACP,OAAO,MAAMC,uBAAuB,GAAG,gCAAhC;AACP,OAAO,MAAMC,0BAA0B,GAAG,mCAAnC;AACP,OAAO,MAAMC,6BAA6B,GAAG,sCAAtC;AACP,OAAO,MAAMC,6BAA6B,GAAG,sCAAtC;AACP,OAAO,MAAMC,0BAA0B,GAAG,mCAAnC;AACP,OAAO,MAAMC,8BAA8B,GAAG,uCAAvC;AAIP,MAAMC,UAAU,GAAG;AACfC,EAAAA,EAAE,EAAE,EADW;AAEfC,EAAAA,QAAQ,EAAE;AAFK,CAAnB;AAKA,MAAMC,SAAS,GAAG;AACdF,EAAAA,EAAE,EAAE,EADU;AAEdG,EAAAA,IAAI,EAAE,EAFQ;AAGdC,EAAAA,KAAK,EAAE,EAHO;AAIdC,EAAAA,KAAK,EAAE,EAJO;AAKdC,EAAAA,OAAO,EAAE,EALK;AAMdC,EAAAA,OAAO,EAAE,EANK;AAOdC,EAAAA,UAAU,EAAE,EAPE;AAQdC,EAAAA,WAAW,EAAE,EARC;AASdC,EAAAA,UAAU,EAAE,EATE;AAUdC,EAAAA,eAAe,EAAE,EAVH;AAWdC,EAAAA,eAAe,EAAE;AAXH,CAAlB;IAeqBC,S,sBAAN,MAAMA,SAAN,CAAgB;AAAA;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA,SA2C3BC,OA3C2B,GA2CjBhC,IAAI,CAAC,UAAUgC,OAAV,GAAoB;AAC/B,WAAKC,UAAL,GAAkB9B,KAAK,CAACG,OAAxB;AACA4B,MAAAA,YAAY,CAACC,OAAb,CAAqB1B,qBAArB,EAA4C,KAAK2B,KAAL,CAAWlB,EAAvD;;AAEA,UAAI;AACA,cAAMmB,KAAK,GAAG,KAAKD,KAAnB;AACA,cAAME,QAAQ,GAAG,MAAMpC,KAAK,CAACqC,IAAN,CAAW,yCAAX,EAAsDF,KAAtD,CAAvB;AACA,cAAMG,KAAK,GAAGF,QAAQ,CAACG,IAAT,CAAcD,KAA5B;AACA,cAAME,IAAI,GAAGJ,QAAQ,CAACG,IAAT,CAAcC,IAA3B;AAEAR,QAAAA,YAAY,CAACC,OAAb,CAAqB3B,oBAArB,EAA2CgC,KAA3C;AAEAG,QAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AAEA,aAAKX,UAAL,GAAkB9B,KAAK,CAACC,aAAxB;AACA,aAAKyC,UAAL,GAAkBL,KAAlB;AACA,aAAKM,SAAL,GAAiBJ,IAAjB;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAKE,SAAjB;AACH,OAdD,CAcE,OAAOC,CAAP,EAAU;AACR,aAAKd,UAAL,GAAkB9B,KAAK,CAACI,MAAxB;AACA,aAAKsC,UAAL,GAAkB,EAAlB;AACA,aAAKC,SAAL,GAAiBE,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkB7B,SAAlB,CAAjB;AAEH;AACJ,KAxBa,CA3Ca;AAAA,SAqE3B8B,UArE2B,GAqEdlD,IAAI,CAAC,UAAUkD,UAAV,GAAuB;AACrC,WAAKC,YAAL;AACA,YAAMX,KAAK,GAAGN,YAAY,CAACkB,OAAb,CAAqB5C,oBAArB,CAAd;;AAEA,UAAGgC,KAAH,EAAU;AACN,YAAI;AACA,gBAAMF,QAAQ,GAAG,MAAMpC,KAAK,CAACmD,GAAN,CAAU,4CAAV,CAAvB;AACA,gBAAMb,KAAK,GAAGF,QAAQ,CAACG,IAAT,CAAcD,KAA5B;AACA,gBAAME,IAAI,GAAGJ,QAAQ,CAACG,IAAT,CAAcC,IAA3B;AACAC,UAAAA,OAAO,CAACC,GAAR,CAAa,OAAb,EAAsBF,IAAtB;AACA,eAAKT,UAAL,GAAkB9B,KAAK,CAACC,aAAxB;AACA,eAAKyC,UAAL,GAAkBL,KAAlB;AACA,eAAKM,SAAL,GAAiBJ,IAAjB;AACAC,UAAAA,OAAO,CAACC,GAAR,CAAY,KAAKE,SAAjB;AAEH,SAVD,CAUE,OAAMC,CAAN,EAAS;AACP,eAAKd,UAAL,GAAkB9B,KAAK,CAACE,gBAAxB;AACA,eAAKwC,UAAL,GAAkB,EAAlB;AACA,eAAKC,SAAL,GAAiBE,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkB7B,SAAlB,CAAjB;AACH;AACJ;AACJ,KArBgB,CArEU;AAAA,SA4F3BkC,QA5F2B,GA4FhBtD,IAAI,CAAC,UAAUsD,QAAV,GAAqB;AACjCpB,MAAAA,YAAY,CAACqB,UAAb,CAAwB/C,oBAAxB;;AAEA,UAAI;AACA,cAAMN,KAAK,CAACqC,IAAN,CAAW,0CAAX,CAAN;AAEAI,QAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ;AACA,aAAKR,KAAL,GAAaY,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBhC,UAAlB,CAAb;AACA,aAAKgB,UAAL,GAAkB9B,KAAK,CAACE,gBAAxB;AACA,aAAKwC,UAAL,GAAkB,EAAlB;AACA,aAAKC,SAAL,GAAiBE,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkB7B,SAAlB,CAAjB;AACH,OARD,CAQE,OAAM2B,CAAN,EAAS;AACP,aAAKX,KAAL,GAAaY,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBhC,UAAlB,CAAb;AACA,aAAKgB,UAAL,GAAkB9B,KAAK,CAACE,gBAAxB;AACA,aAAKwC,UAAL,GAAkB,EAAlB;AACA,aAAKC,SAAL,GAAiBE,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkB7B,SAAlB,CAAjB;AACH;AACJ,KAjBc,CA5FY;AAAA;;AAAA,C,+EAC1BnB,U;;;;;WAAmB+C,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBhC,UAAlB,C;;8EACnBhB,U;;;;;WAAwBE,KAAK,CAACE,gB;;8EAC9BJ,U;;;;;WAAwB,E;;0EACxBA,U;;;;;WAAoB,K;;6EACpBA,U;;;;;WAAuB+C,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkB7B,SAAlB,C;;gFAEvBrB,M;;;;;WAAsB,MAAM;AACzB,YAAMyD,OAAO,GAAGtB,YAAY,CAACkB,OAAb,CAAqB3C,qBAArB,CAAhB;AACA,YAAMgD,SAAS,GAAGvB,YAAY,CAACkB,OAAb,CAAqB1C,wBAArB,CAAlB;AACA,YAAMgD,QAAQ,GAAGxB,YAAY,CAACkB,OAAb,CAAqBzC,uBAArB,CAAjB;AACA,YAAMgD,WAAW,GAAGzB,YAAY,CAACkB,OAAb,CAAqBxC,0BAArB,CAApB;AACA,YAAMgD,cAAc,GAAG1B,YAAY,CAACkB,OAAb,CAAqBvC,6BAArB,CAAvB;AACA,YAAMgD,cAAc,GAAG3B,YAAY,CAACkB,OAAb,CAAqBtC,6BAArB,CAAvB;AACA,YAAMgD,eAAe,GAAG5B,YAAY,CAACkB,OAAb,CAAqBrC,0BAArB,CAAxB;AACA,YAAMgD,mBAAmB,GAAG7B,YAAY,CAACkB,OAAb,CAAqBpC,8BAArB,CAA5B;AAEH,K;;iFACAjB,M;;;;;WAAwBmB,EAAD,IAAQ;AAC5B,WAAKkB,KAAL,CAAWlB,EAAX,GAAgBA,EAAhB;AACH,K;;uFAEAnB,M;;;;;WAA8BoB,QAAD,IAAc;AACxC,WAAKiB,KAAL,CAAWjB,QAAX,GAAsBA,QAAtB;AACH,K;;0EAEApB,M;;;;;WAAgBiE,QAAQ,IAAI;AACzB;AACA,UAAIC,MAAM,CAACC,OAAP,CAAe,cAAf,CAAJ,EAAoC;AAChC,aAAKZ,QAAL;AACH,OAJwB,CAKzB;AACA;AACA;;AACH,K;;oFAEAvD,M;;;;;WAAyB,MAAM;AAC5B,WAAKqC,KAAL,GAAaY,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBhC,UAAlB,CAAb;AACA,WAAKgB,UAAL,GAAkB9B,KAAK,CAACE,gBAAxB;AACA,WAAKwC,UAAL,GAAkB,EAAlB;AACA,WAAKC,SAAL,GAAiBE,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkB7B,SAAlB,CAAjB;AACH,K;;;SAzCgBW,S","sourcesContent":["import {action, flow, observable} from \"mobx\";\nimport axios from \"axios\";\n\nexport const State = {\n    Authenticated: 'Authenticated',\n    NotAuthenticated: 'NotAuthenticated',\n    Pending: 'Pending',\n    Failed: 'Failed',\n};\n\nexport const LocalStorageTokenKey = '_BASKITOP_AUTHENTICATION_TOKEN_';\nexport const LocalStorageSaveIdKey = \"Kfashion_AUTHENTICATION_SAVE_ID_\";\nexport const LocalStorageSaveEmailKey = \"_Kfashion_AUTHENTICATION_EMAIL_\";\nexport const LocalStorageSaveNameKey = \"_Kfashion_AUTHENTICATION_NAME_\";\nexport const LocalStorageSaveIsAdminKey = \"_Kfashion_AUTHENTICATION_ISADMIN_\";\nexport const LocalStorageSaveIsApprovedKey = \"_Kfashion_AUTHENTICATION_ISAPPROVED_\";\nexport const LocalStorageSaveGroupAdminKey = \"_Kfashion_AUTHENTICATION_GROUPADMIN_\";\nexport const LocalStorageSaveGroupNoKey = \"_Kfashion_AUTHENTICATION_GROUPNO_\";\nexport const LocalStorageSaveAuthorityNoKey = \"_Kfashion_AUTHENTICATION_AUTHORITYNO_\";\n\n\n\nconst EmptyLogin = {\n    id: '',\n    password: '',\n};\n\nconst EmptyUser = {\n    id: '',\n    name: '',\n    email: '',\n    phone: '',\n    groupNo: '',\n    isAdmin: '',\n    isApproved: '',\n    authorityNo: '',\n    groupAdmin: '',\n    createdDatetime: '',\n    updatedDatetime: '',\n\n};\n\nexport default class AuthStore {\n    @observable login = Object.assign({}, EmptyLogin);\n    @observable loginState = State.NotAuthenticated;\n    @observable loginToken = '';\n    @observable saveId = false;\n    @observable loginUser = Object.assign({}, EmptyUser);\n\n    @action checkLoginId = () => {\n        const savedId = localStorage.getItem(LocalStorageSaveIdKey);\n        const saveEmail = localStorage.getItem(LocalStorageSaveEmailKey);\n        const saveName = localStorage.getItem(LocalStorageSaveNameKey);\n        const saveIsAdmin = localStorage.getItem(LocalStorageSaveIsAdminKey)\n        const saveIsApproved = localStorage.getItem(LocalStorageSaveIsApprovedKey)\n        const saveGroupAdmin = localStorage.getItem(LocalStorageSaveGroupAdminKey)\n        const saveSaveGroupNo = localStorage.getItem(LocalStorageSaveGroupNoKey)\n        const saveSaveAuthorityNo = localStorage.getItem(LocalStorageSaveAuthorityNoKey)\n\n    };\n    @action changeLoginId = (id) => {\n        this.login.id = id;\n    };\n\n    @action changeLoginPassword = (password) => {\n        this.login.password = password;\n    };\n\n    @action logOut = pathname => {\n        // if(pathname.startsWith(\"/broadcast/\")) {\n        if (window.confirm(\"로그아웃 하시겠습니까?\")) {\n            this.doLogout();\n        }\n        // } else {\n        //     this.doLogout();\n        // }\n    };\n\n    @action invalidateLogin = () => {\n        this.login = Object.assign({}, EmptyLogin);\n        this.loginState = State.NotAuthenticated;\n        this.loginToken = '';\n        this.loginUser = Object.assign({}, EmptyUser);\n    };\n\n    doLogin = flow(function* doLogin() {\n        this.loginState = State.Pending;\n        localStorage.setItem(LocalStorageSaveIdKey, this.login.id);\n\n        try {\n            const param = this.login;\n            const response = yield axios.post('/api/v1/kfashion/authentications/signin', param);\n            const token = response.data.token;\n            const user = response.data.user;\n\n            localStorage.setItem(LocalStorageTokenKey, token);\n\n            console.log('doLogin');\n\n            this.loginState = State.Authenticated;\n            this.loginToken = token;\n            this.loginUser = user;\n            console.log(this.loginUser)\n        } catch (e) {\n            this.loginState = State.Failed;\n            this.loginToken = '';\n            this.loginUser = Object.assign({}, EmptyUser);\n\n        }\n    });\n\n    checkLogin = flow(function* checkLogin() {\n        this.checkLoginId();\n        const token = localStorage.getItem(LocalStorageTokenKey);\n\n        if(token) {\n            try {\n                const response = yield axios.get('/api/v1/kfashion/authentications/signcheck');\n                const token = response.data.token;\n                const user = response.data.user;\n                console.log( 'user:', user)\n                this.loginState = State.Authenticated;\n                this.loginToken = token;\n                this.loginUser = user;\n                console.log(this.loginUser)\n\n            } catch(e) {\n                this.loginState = State.NotAuthenticated;\n                this.loginToken = '';\n                this.loginUser = Object.assign({}, EmptyUser);\n            }\n        }\n    });\n\n    doLogout = flow(function* doLogout() {\n        localStorage.removeItem(LocalStorageTokenKey);\n\n        try {\n            yield axios.post('/api/v1/kfashion/authentications/signout');\n\n            console.log(this);\n            this.login = Object.assign({}, EmptyLogin);\n            this.loginState = State.NotAuthenticated;\n            this.loginToken = '';\n            this.loginUser = Object.assign({}, EmptyUser);\n        } catch(e) {\n            this.login = Object.assign({}, EmptyLogin);\n            this.loginState = State.NotAuthenticated;\n            this.loginToken = '';\n            this.loginUser = Object.assign({}, EmptyUser);\n        }\n    });\n}"]},"metadata":{},"sourceType":"module"}